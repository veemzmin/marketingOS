---
phase: 03-content-creation
plan: 05
type: execute
wave: 1
depends_on: []
files_modified: [src/lib/governance/policies/stigma-language.ts]
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Content with 'addicts' (plural) is flagged as stigmatizing language"
    - "Content with 'crazier' or 'craziest' (inflected forms) is flagged as stigmatizing"
    - "Content with cure language ('fix you', 'heal them') directed at people is flagged"
  artifacts:
    - path: "src/lib/governance/policies/stigma-language.ts"
      provides: "Expanded STIGMA_TERMS array with inflected forms and cure language"
      contains: "addicts"
      min_lines: 130
  key_links:
    - from: "validateStigmaLanguage"
      to: "STIGMA_TERMS"
      via: "word-boundary regex matching"
      pattern: "\\\\b\\${term}\\\\b"
---

<objective>
Expand stigma language policy to detect inflected forms (addicts, crazier, craziest) and cure language terms (fix, heal, repair, cure) when referring to people with mental health conditions.

Purpose: Close governance validation gap where user input "addicts are more crazier" and "we will fix you" passed validation. These terms are stigmatizing when applied to people with mental health or substance use conditions.

Output: STIGMA_TERMS array expanded with 7 additional terms, improving detection coverage.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Phase context
@.planning/phases/03-content-creation/03-UAT.md
@.planning/debug/governance-validation-miss.md

# Files to modify
@src/lib/governance/policies/stigma-language.ts
@src/lib/governance/validators/stigma-language.ts
</context>

<tasks>

<task type="auto">
  <name>Add inflected forms and cure language to stigma terms</name>
  <files>src/lib/governance/policies/stigma-language.ts</files>
  <action>
**Gap: Governance validation missing terms (UAT test 5)**

Root cause: User input "In 2026, addicts are more crazier than ever. We will fix you." passed validation because:
1. "addicts" (plural) not in STIGMA_TERMS (only "addict" singular)
2. "crazier" (comparative form) not in STIGMA_TERMS (only "crazy" base form)
3. "fix" (cure language) not in STIGMA_TERMS at all

**Add inflected forms:**

In the "Substance use stigma" section (after line 20 'addict'), add:
```typescript
'addicts', // plural form
```

In the "Mental health stigma" section (after line 40 'crazy'), add:
```typescript
'crazier', // comparative form
'craziest', // superlative form
```

**Add cure language section:**

After the "General stigmatizing language" section (around line 96, before "Eating disorder stigma"), add new section:

```typescript
// Cure language stigma
// Alternative: "support", "help", "assist", "treat"
// Context: "fix/heal/cure" are stigmatizing when referring to people
'fix', // "we will fix you" implies person is broken
'heal', // "we will heal you" medicalizes identity
'repair', // "repair them" implies they are defective
'cure', // "cure the mentally ill" implies disease not condition
```

**Why these terms:**
- Inflected forms: Word-boundary regex `\b${term}\b` requires exact matches - "addict" won't catch "addicts"
- Cure language: SAMHSA "Words Matter" guide explicitly warns against treatment language that implies people are broken/defective
- These are contextual: "fix the problem" is OK, "fix you" is not - validator can be enhanced later if needed

**Important - DO NOT remove existing terms:**
- Keep all 78 existing terms in STIGMA_TERMS
- Only ADD the 7 new terms (addicts, crazier, craziest, fix, heal, repair, cure)
- Maintain alphabetical grouping within sections
- Preserve all comments and alternatives

**Final count:** 78 existing terms + 7 new = 85 terms total
</action>
  <verify>
```bash
# TypeScript compilation check
npx tsc --noEmit

# Grep verification - ensure new terms exist
grep -n "addicts" src/lib/governance/policies/stigma-language.ts
grep -n "crazier" src/lib/governance/policies/stigma-language.ts
grep -n "fix" src/lib/governance/policies/stigma-language.ts
grep -n "heal" src/lib/governance/policies/stigma-language.ts

# Manual test via dev server:
# 1. npm run dev
# 2. Navigate to /dashboard/content/create
# 3. Enter body: "In 2026, addicts are more crazier than ever. We will fix you."
# 4. Verify violations appear for: addicts, crazier, fix
```
</verify>
  <done>
- STIGMA_TERMS array contains "addicts" (plural)
- STIGMA_TERMS array contains "crazier" and "craziest"
- STIGMA_TERMS array contains "fix", "heal", "repair", "cure"
- Cure language section added with appropriate comments explaining context
- TypeScript compilation passes
- Test input "addicts are more crazier...we will fix you" triggers 3+ violations
</done>
</task>

</tasks>

<verification>
**Inflected forms detection:**
1. Navigate to content editor
2. Enter body: "Many addicts struggle daily"
3. Verify violation appears for "addicts"
4. Enter body: "This situation is getting crazier and craziest"
5. Verify violations appear for both inflected forms

**Cure language detection:**
1. Enter body: "We will fix you and heal your problems"
2. Verify violations appear for "fix" and "heal"
3. Enter body: "Our program can cure mental illness and repair damaged people"
4. Verify violations appear for "cure" and "repair"

**Original UAT test case:**
1. Enter body: "In 2026, addicts are more crazier than ever. We will fix you."
2. Verify multiple violations appear (addicts, crazier, fix)
3. Verify "No policy violations detected" message does NOT appear
</verification>

<success_criteria>
- UAT test 5 passes: "In 2026, addicts are more crazier than ever. We will fix you." triggers violations
- All 7 new terms integrated into STIGMA_TERMS
- Existing 78 terms preserved (no accidental deletions)
- Word-boundary regex in validator catches new terms correctly
- TypeScript types updated automatically (StigmaTerm union type)
</success_criteria>

<output>
After completion, create `.planning/phases/03-content-creation/03-05-SUMMARY.md`
</output>
